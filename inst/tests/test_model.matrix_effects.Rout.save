
R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # TODO: add all cases: all model objects with all combinations of available model and effect values
> #                      request all combinations from all model objects
> 
> library(plm)
> data("Grunfeld", package = "plm")
> 
> fe2_bal   <- plm(inv ~ value + capital, model = "within", effect = "twoways", data = Grunfeld)
> fe2_unbal <- plm(inv ~ value + capital, model = "within", effect = "twoways", data = Grunfeld[1:199, ])
> 
> model.matrix(fe2_bal,    model = "pooling", effect = "individual")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
200           1   58.12   14.33
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
200   10 1954
> model.matrix(fe2_bal,    model = "pooling", effect = "time")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
200           1   58.12   14.33
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
200   10 1954
> model.matrix(fe2_bal,    model = "pooling", effect = "twoways")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
200           1   58.12   14.33
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
200   10 1954
> 
> model.matrix(fe2_unbal,    model = "pooling", effect = "individual")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
> model.matrix(fe2_unbal,    model = "pooling", effect = "time")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
> model.matrix(fe2_unbal,    model = "pooling", effect = "twoways")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
> 
> # this resulted pre rev. 298 in an error due to the effect argument saved in
> # plm_object$args$effect = "twoways" which gets interpreted by model.matrix.pFormula
> # and "applied" to model = "pooling"
> model.matrix(fe2_unbal,    model = "pooling")
    (Intercept)   value capital
1             1 3078.50    2.80
2             1 4661.70   52.60
3             1 5387.10  156.90
4             1 2792.20  209.20
5             1 4313.20  203.40
6             1 4643.90  207.20
7             1 4551.20  255.20
8             1 3244.10  303.70
9             1 4053.70  264.10
10            1 4379.30  201.60
11            1 4840.90  265.00
12            1 4900.90  402.20
13            1 3526.50  761.50
14            1 3254.70  922.40
15            1 3700.20 1020.10
16            1 3755.60 1099.00
17            1 4833.00 1207.70
18            1 4924.90 1430.50
19            1 6241.70 1777.30
20            1 5593.60 2226.30
21            1 1362.40   53.80
22            1 1807.10   50.50
23            1 2676.30  118.10
24            1 1801.90  260.20
25            1 1957.30  312.70
26            1 2202.90  254.20
27            1 2380.50  261.40
28            1 2168.60  298.70
29            1 1985.10  301.80
30            1 1813.90  279.10
31            1 1850.20  213.80
32            1 2067.70  132.60
33            1 1796.70  264.80
34            1 1625.80  306.90
35            1 1667.00  351.10
36            1 1677.40  357.80
37            1 2289.50  342.10
38            1 2159.40  444.20
39            1 2031.30  623.60
40            1 2115.50  669.70
41            1 1170.60   97.80
42            1 2015.80  104.40
43            1 2803.30  118.00
44            1 2039.70  156.20
45            1 2256.20  172.60
46            1 2132.20  186.60
47            1 1834.10  220.90
48            1 1588.00  287.80
49            1 1749.40  319.90
50            1 1687.20  321.30
51            1 2007.70  319.60
52            1 2208.30  346.00
53            1 1656.70  456.40
54            1 1604.40  543.40
55            1 1431.80  618.30
56            1 1610.50  647.40
57            1 1819.40  671.30
58            1 2079.70  726.10
59            1 2371.60  800.30
60            1 2759.90  888.90
61            1  417.50   10.50
62            1  837.80   10.20
63            1  883.90   34.70
64            1  437.90   51.80
65            1  679.70   64.30
66            1  727.80   67.10
67            1  643.60   75.20
68            1  410.90   71.40
69            1  588.40   67.10
70            1  698.40   60.50
71            1  846.40   54.60
72            1  893.80   84.80
73            1  579.00   96.80
74            1  694.60  110.20
75            1  590.30  147.40
76            1  693.50  163.20
77            1  809.00  203.50
78            1  727.00  290.60
79            1 1001.50  346.10
80            1  703.20  414.90
81            1  157.70  183.20
82            1  167.90  204.00
83            1  192.90  236.00
84            1  156.70  291.70
85            1  191.40  323.10
86            1  185.50  344.00
87            1  199.60  367.70
88            1  189.50  407.20
89            1  151.20  426.60
90            1  187.70  470.00
91            1  214.70  499.20
92            1  232.90  534.60
93            1  249.00  566.60
94            1  224.50  595.30
95            1  237.30  631.40
96            1  240.10  662.30
97            1  327.30  683.90
98            1  359.40  729.30
99            1  398.40  774.30
100           1  365.70  804.90
101           1  197.00    6.50
102           1  210.30   15.80
103           1  223.10   27.70
104           1  216.70   39.20
105           1  286.40   48.60
106           1  298.00   52.50
107           1  276.90   61.50
108           1  272.60   80.50
109           1  287.40   94.40
110           1  330.30   92.60
111           1  324.40   92.30
112           1  401.90   94.20
113           1  407.40  111.40
114           1  409.20  127.40
115           1  482.20  149.30
116           1  673.80  164.40
117           1  676.90  177.20
118           1  702.00  200.00
119           1  793.50  211.50
120           1  927.30  238.70
121           1  138.00  100.20
122           1  200.10  125.00
123           1  210.10  142.40
124           1  161.20  165.10
125           1  161.70  194.80
126           1  145.10  222.90
127           1  110.60  252.10
128           1   98.10  276.30
129           1  108.80  300.30
130           1  118.20  318.20
131           1  126.50  336.20
132           1  156.70  351.20
133           1  119.40  373.60
134           1  129.10  389.40
135           1  134.80  406.70
136           1  140.80  429.50
137           1  179.00  450.60
138           1  178.10  466.90
139           1  186.80  486.20
140           1  192.70  511.30
141           1  191.50    1.80
142           1  516.00    0.80
143           1  729.00    7.40
144           1  560.40   18.10
145           1  519.90   23.50
146           1  628.50   26.50
147           1  537.10   36.20
148           1  561.20   60.80
149           1  617.20   84.40
150           1  626.70   91.20
151           1  737.20   92.40
152           1  760.50   86.00
153           1  581.40  111.10
154           1  662.30  130.60
155           1  583.80  141.80
156           1  635.20  136.70
157           1  723.80  129.70
158           1  864.10  145.50
159           1 1193.50  174.80
160           1 1188.90  213.50
161           1  290.60  162.00
162           1  291.10  174.00
163           1  335.00  183.00
164           1  246.00  198.00
165           1  356.20  208.00
166           1  289.80  223.00
167           1  268.20  234.00
168           1  213.30  248.00
169           1  348.20  274.00
170           1  374.20  282.00
171           1  387.20  316.00
172           1  347.40  302.00
173           1  291.90  333.00
174           1  297.20  359.00
175           1  276.90  370.00
176           1  274.60  376.00
177           1  339.90  391.00
178           1  474.80  414.00
179           1  496.00  443.00
180           1  474.50  468.00
181           1   70.91    4.50
182           1   87.94    4.71
183           1   82.20    4.57
184           1   58.72    4.56
185           1   80.54    4.38
186           1   86.47    4.21
187           1   77.68    4.12
188           1   62.16    3.83
189           1   62.24    3.58
190           1   61.82    3.41
191           1   65.85    3.31
192           1   69.54    3.23
193           1   64.97    3.90
194           1   68.00    5.38
195           1   71.24    7.39
196           1   69.05    8.74
197           1   83.04    9.07
198           1   74.42    9.93
199           1   63.51   11.68
attr(,"assign")
[1] 0 1 2
attr(,"index")
    firm year
1      1 1935
2      1 1936
3      1 1937
4      1 1938
5      1 1939
6      1 1940
7      1 1941
8      1 1942
9      1 1943
10     1 1944
11     1 1945
12     1 1946
13     1 1947
14     1 1948
15     1 1949
16     1 1950
17     1 1951
18     1 1952
19     1 1953
20     1 1954
21     2 1935
22     2 1936
23     2 1937
24     2 1938
25     2 1939
26     2 1940
27     2 1941
28     2 1942
29     2 1943
30     2 1944
31     2 1945
32     2 1946
33     2 1947
34     2 1948
35     2 1949
36     2 1950
37     2 1951
38     2 1952
39     2 1953
40     2 1954
41     3 1935
42     3 1936
43     3 1937
44     3 1938
45     3 1939
46     3 1940
47     3 1941
48     3 1942
49     3 1943
50     3 1944
51     3 1945
52     3 1946
53     3 1947
54     3 1948
55     3 1949
56     3 1950
57     3 1951
58     3 1952
59     3 1953
60     3 1954
61     4 1935
62     4 1936
63     4 1937
64     4 1938
65     4 1939
66     4 1940
67     4 1941
68     4 1942
69     4 1943
70     4 1944
71     4 1945
72     4 1946
73     4 1947
74     4 1948
75     4 1949
76     4 1950
77     4 1951
78     4 1952
79     4 1953
80     4 1954
81     5 1935
82     5 1936
83     5 1937
84     5 1938
85     5 1939
86     5 1940
87     5 1941
88     5 1942
89     5 1943
90     5 1944
91     5 1945
92     5 1946
93     5 1947
94     5 1948
95     5 1949
96     5 1950
97     5 1951
98     5 1952
99     5 1953
100    5 1954
101    6 1935
102    6 1936
103    6 1937
104    6 1938
105    6 1939
106    6 1940
107    6 1941
108    6 1942
109    6 1943
110    6 1944
111    6 1945
112    6 1946
113    6 1947
114    6 1948
115    6 1949
116    6 1950
117    6 1951
118    6 1952
119    6 1953
120    6 1954
121    7 1935
122    7 1936
123    7 1937
124    7 1938
125    7 1939
126    7 1940
127    7 1941
128    7 1942
129    7 1943
130    7 1944
131    7 1945
132    7 1946
133    7 1947
134    7 1948
135    7 1949
136    7 1950
137    7 1951
138    7 1952
139    7 1953
140    7 1954
141    8 1935
142    8 1936
143    8 1937
144    8 1938
145    8 1939
146    8 1940
147    8 1941
148    8 1942
149    8 1943
150    8 1944
151    8 1945
152    8 1946
153    8 1947
154    8 1948
155    8 1949
156    8 1950
157    8 1951
158    8 1952
159    8 1953
160    8 1954
161    9 1935
162    9 1936
163    9 1937
164    9 1938
165    9 1939
166    9 1940
167    9 1941
168    9 1942
169    9 1943
170    9 1944
171    9 1945
172    9 1946
173    9 1947
174    9 1948
175    9 1949
176    9 1950
177    9 1951
178    9 1952
179    9 1953
180    9 1954
181   10 1935
182   10 1936
183   10 1937
184   10 1938
185   10 1939
186   10 1940
187   10 1941
188   10 1942
189   10 1943
190   10 1944
191   10 1945
192   10 1946
193   10 1947
194   10 1948
195   10 1949
196   10 1950
197   10 1951
198   10 1952
199   10 1953
> pmodel.response(fe2_unbal, model = "pooling")
      1       2       3       4       5       6       7       8       9      10 
 317.60  391.80  410.60  257.70  330.80  461.20  512.00  448.00  499.60  547.50 
     11      12      13      14      15      16      17      18      19      20 
 561.20  688.10  568.90  529.20  555.10  642.90  755.90  891.20 1304.40 1486.70 
     21      22      23      24      25      26      27      28      29      30 
 209.90  355.30  469.90  262.30  230.40  361.60  472.80  445.60  361.60  288.20 
     31      32      33      34      35      36      37      38      39      40 
 258.70  420.30  420.50  494.50  405.10  418.80  588.20  645.50  641.00  459.30 
     41      42      43      44      45      46      47      48      49      50 
  33.10   45.00   77.20   44.60   48.10   74.40  113.00   91.90   61.30   56.80 
     51      52      53      54      55      56      57      58      59      60 
  93.60  159.90  147.20  146.30   98.30   93.50  135.20  157.30  179.50  189.60 
     61      62      63      64      65      66      67      68      69      70 
  40.29   72.76   66.26   51.60   52.41   69.41   68.35   46.80   47.40   59.57 
     71      72      73      74      75      76      77      78      79      80 
  88.78   74.12   62.68   89.36   78.98  100.66  160.62  145.00  174.93  172.49 
     81      82      83      84      85      86      87      88      89      90 
  39.68   50.73   74.24   53.51   42.65   46.48   61.40   39.67   62.24   52.32 
     91      92      93      94      95      96      97      98      99     100 
  63.21   59.37   58.02   70.34   67.42   55.74   80.30   85.40   91.90   81.43 
    101     102     103     104     105     106     107     108     109     110 
  20.36   25.98   25.94   27.53   24.60   28.54   43.41   42.81   27.84   32.60 
    111     112     113     114     115     116     117     118     119     120 
  39.03   50.17   51.85   64.03   68.16   77.34   95.30   99.49  127.52  135.72 
    121     122     123     124     125     126     127     128     129     130 
  24.43   23.21   32.78   32.54   26.65   33.71   43.50   34.46   44.28   70.80 
    131     132     133     134     135     136     137     138     139     140 
  44.12   48.98   48.51   50.00   50.59   42.53   64.77   72.68   73.86   89.51 
    141     142     143     144     145     146     147     148     149     150 
  12.93   25.90   35.05   22.89   18.84   28.57   48.51   43.34   37.02   37.81 
    151     152     153     154     155     156     157     158     159     160 
  39.27   53.46   55.56   49.56   32.04   32.24   54.38   71.78   90.08   68.60 
    161     162     163     164     165     166     167     168     169     170 
  26.63   23.39   30.65   20.89   28.78   26.93   32.08   32.21   35.69   62.47 
    171     172     173     174     175     176     177     178     179     180 
  52.32   56.95   54.32   40.53   32.54   43.48   56.49   65.98   66.11   49.34 
    181     182     183     184     185     186     187     188     189     190 
   2.54    2.00    2.19    1.99    2.03    1.81    2.14    1.86    0.93    1.18 
    191     192     193     194     195     196     197     198     199 
   1.36    2.24    3.81    5.66    4.21    3.42    4.67    6.00    6.53 
> 
> 
> 
> # these still result in errors
> 
> #### "mean"
> # in model.matrix.pFormula: add something for "mean" cases two-ways balanced/unbalanced?
> # meaningful?
> # model.matrix(fe2_unbal, model = "mean")
> # model.matrix(fe2_bal,   model = "mean")
> 
> #### "random"
> # model.matrix(fe2_unbal, model = "random")
> 
> proc.time()
   user  system elapsed 
   3.12    0.51    3.60 
